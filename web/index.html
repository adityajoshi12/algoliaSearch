<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>


<script>

  
  var firebaseConfig ={
    
  }

  firebase.initializeApp(firebaseConfig);
</script>

<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>

<script>
const client = algoliasearch('2IRDE8GWI2', 'e3274e2b555793684b24e227cb908f6d',{protocol: 'https:'});
const index = client.initIndex('products');

    var db=firebase.firestore();
    // db.collection('equipment').doc('kIwd9WDwcABuQvBWF44J').get().then(data=>{
    //     console.log(data.data())
    //     db.collection('equipment').add(data.data())
    // })
var arr=[]
    // db.collection('equipment').get().then(data=>{
    //     data.forEach(element => {
    //         const x=element.data()
    //         x.objectID = element.id;
    //         arr.push(x);
    //     });
    //     console.log(arr)
    //     index.addObjects(arr, (err, content) => {
    //         if (err) console.log(err)
    //        else 
    //         console.log(content);
    //     });
    // })

    db.collection('Male Category').get().then(docs=>{
      
        docs.forEach(doc => {
            
            db.collection('Male Category').doc(doc.id).collection(doc.id).get().then(data=>{
                data.forEach(element => {
                    
                    const d=element.data();
                    d.objectID = element.id;
                    arr.push(d)
                });

            index.addObjects(arr, (err, content) => {
            if (err) console.log(err)
           else 
            console.log(content);
        });
            })
        });


    })
</script>


</body>
</html>
